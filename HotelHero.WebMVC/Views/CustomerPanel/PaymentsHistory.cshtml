@model IEnumerable<Payment>

@{
	ViewData["Title"] = "Payments history";
}

<table>
	<tbody>
		<tr>
			<td style="vertical-align:top">
				<div class="list-group">
					<button type="button" class="list-group-item list-group-item-action list-group-item-info">
						<a class="btn" asp-action="CustomerData">Customer Data</a>
					</button>

					<button type="button" class="list-group-item list-group-item-action list-group-item-info">
						<a class="btn" asp-action="Reservations">Your reservations</a>
					</button>

					<button type="button" class="list-group-item list-group-item-action list-group-item-info active">
						<a class="btn" asp-action="PaymentsHistory">Payments history</a>
					</button>

					<button type="button" class="list-group-item list-group-item-action list-group-item-info">
						<a class="btn" asp-action="Wallet">Your wallet</a>
					</button>

					<button type="button" class="list-group-item list-group-item-action list-group-item-info">
						<a class="btn" asp-action="Favourites">Favourites</a>
					</button>
				</div>
			</td>
			<td>
				<table class="table table-striped table-bordered">
					<thead class="table-dark">
						<tr>
							<th>
								<label asp-for="First().PaymentId"></label>
							</th>
							<th>
								<label asp-for="First().Reservation"></label>
							</th>
							<th>
								<label asp-for="First().AdditionalServices"></label>
							</th>
							<th>
								<label asp-for="First().TotalCost"></label>
							</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var payment in Model)
						{
							<tr>
								<td>
									@payment.PaymentId
								</td>
								<td>
									@payment.Reservation
								</td>
								<td>
									<ul>
										@foreach (var additionalService in payment.AdditionalServices)
										{
											if (additionalService.IsSelected)
											{

												<li>
													@additionalService.Name
													@additionalService.Cost
												</li>
											}
										}
									</ul>
								</td>
								<td>
									@payment.TotalCost
								</td>
							</tr>
						}
					</tbody>
				</table>
			</td>
		</tr>
	</tbody>
</table>