@model IEnumerable<Payment>

@{
	ViewData["Title"] = "Payments history";
}

<div class="container">
	<div class="row">
		<aside class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 200px">
			<a class="d-flex flex-column align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
				<span class="fs-5">Menu</span>
			</a>
			<ul class="list-unstyled ps-0">
				<li>
					<a class="btn text-decoration-none" asp-action="CustomerData">Customer data</a>
				</li>
				<li class="nav-item">
					<a class="btn text-decoration-none" asp-action="Reservations">Your reservations</a>
				</li>
				<li class="nav-item">
					<a class="btn text-decoration-none" asp-action="PaymentsHistory">Payments history</a>
				</li>
				<li class="nav-item">
					<a class="btn text-decoration-none" asp-action="Wallet">Your wallet</a>
				</li>
				<li class="nav-item">
					<a class="btn text-decoration-none" asp-action="Favourites">Favourites</a>
				</li>
			</ul>
		</aside>
		<div class="col">
			<h1>Payments history</h1>
				<table class="table table-striped table-bordered">
					<thead class="table-dark">
						<tr>
							<th>
								<label asp-for="First().Reservation">Reservation</label>
							</th>
							<th>
								<label asp-for="First().AdditionalServices">Additional services</label>
							</th>
							<th>
								<label asp-for="First().TotalCost">Total cost</label>
							</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var payment in Model)
						{
							<tr>
								<td>
									Hotel: @payment.Reservation.Hotel.Name
									@payment.Reservation.Hotel.CreateStars()
									<br/>
									Address: @payment.Reservation.Hotel.Address, @payment.Reservation.Hotel.City
									<br />

									Period of stay: @payment.Reservation.CheckInDate.ToShortDateString() - @payment.Reservation.CheckOutDate.ToShortDateString()
									 for @payment.Reservation.AmountOfPeople people
								</td>
								<td>
									<ul>
										@foreach (var additionalService in payment.AdditionalServices)
										{
											if (additionalService.IsSelected)
											{

												<li>
													@additionalService.Name
													@additionalService.Cost
												</li>
											}
										}
									</ul>
								</td>
								<td>
									@payment.TotalCost
								</td>
							</tr>
						}
					</tbody>
				</table>
		</div>
	</div>
</div>